<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/blog/styles.da4239bf2deb05cc4382.css" id="gatsby-global-css">@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/blog/static/open-sans-latin-300-24f7b0944e9e03a905f9d7701573b2cd.woff2) format("woff2"),url(/blog/static/open-sans-latin-300-a7622f60c56ddd5301549a786b54e6e6.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/blog/static/open-sans-latin-300italic-6725c3fb1f3abd7ebdcb2d244758f706.woff2) format("woff2"),url(/blog/static/open-sans-latin-300italic-793b1237017aeacd646fb80911425566.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/blog/static/open-sans-latin-400-33543c5cc5d88f5695dd08c87d280dfd.woff2) format("woff2"),url(/blog/static/open-sans-latin-400-de0869e324680c99efa1250515b4b41c.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/blog/static/open-sans-latin-400italic-b61a9055d92ac56c15cacf4271d4f072.woff2) format("woff2"),url(/blog/static/open-sans-latin-400italic-06b4bfda4e139eaf3ab9872a6d66f42f.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/blog/static/open-sans-latin-600-819af3d3abdc9f135d49b80a91e2ff4c.woff2) format("woff2"),url(/blog/static/open-sans-latin-600-449d681cd6006390e1bee3c3a660430b.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/blog/static/open-sans-latin-600italic-ebdfa24cb411ba3016abd1c3ea5746e5.woff2) format("woff2"),url(/blog/static/open-sans-latin-600italic-56e5756b696615d6164a625e1bcb1a9e.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/blog/static/open-sans-latin-700-0edb76284a7a0f8db4665b560ee2b48f.woff2) format("woff2"),url(/blog/static/open-sans-latin-700-1f85e92d8ff443980bc0f83ad7b23b60.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/blog/static/open-sans-latin-700italic-a49393f2171a2f4d6927ce6c14f73dbc.woff2) format("woff2"),url(/blog/static/open-sans-latin-700italic-bf72679ca22e53320beaea090e8bb07d.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/blog/static/open-sans-latin-800-ab3e500e7375695d702cff19513e4470.woff2) format("woff2"),url(/blog/static/open-sans-latin-800-05ebdbe10796850f045fcd484f35788d.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/blog/static/open-sans-latin-800italic-c62c3eea77cf3fca51494e8c924adf4d.woff2) format("woff2"),url(/blog/static/open-sans-latin-800italic-92da6f116d973bd334cf9b3afdb29c4f.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.gatsby-highlight{background-color:#f5f2f0;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto}.gatsby-highlight pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}@font-face{font-family:Monoton;src:url(/blog/static/Monoton-Regular-411051cb61bcda5517943601e8734cea.ttf)}*{margin:0}body{background-color:#1d1b1b;font-family:Overpass}h1,h2,h3{font-family:Permanent Marker;font-weight:400;font-size:1.5rem}h1{text-align:center}code{background-color:rgba(27,31,35,.05)}@media only screen and (min-width:800px){body{font-size:1.25rem}h1{font-size:2.5rem}h2,h3{font-size:2rem}}.welcome-container{height:100vh;background-color:#000}.welcome-content{display:flex;flex-direction:column;justify-content:center;height:100%}.welcome-text{color:#f5efe1;font-family:Monoton;font-weight:400;font-size:2.65rem}.blog-card-container{margin:0 1.25rem 1.25rem;padding:1.25rem .325rem;background-color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.15);border:1px solid #000;border-radius:1rem}article{color:#000}.blog-card-title{font-size:1.5rem;text-align:center;margin-bottom:.625rem}.article-date{font-size:12px}.blog-card-excerpt{text-align:center}.blog-card-link{text-decoration:none;cursor:pointer}@media only screen and (min-width:800px){.blog-card-container{max-width:50rem;margin:2.5rem auto;box-sizing:border-box;padding:2.5rem}.blog-card-title{font-size:2.5rem;margin-bottom:1.25rem}.blog-card-excerpt{text-align:left}}.section-discover{padding-top:1.25rem}@media only screen and (min-width:800px){.section-discover{padding-top:0}}.blog-post-container{margin:1.25rem;background-color:#fff;border:1px solid #000;border-radius:16px}.template-chevron-icon{height:1.56rem;width:1.56rem}.blog-post{margin:1.25rem}.blog-frontmatter{font-style:italic;display:flex;font-size:.6875rem;justify-content:space-between;margin:1rem 0}.blog-post-content h2{margin:1.25rem 0}@media only screen and (min-width:800px){.blog-frontmatter{font-size:.875rem}.blog-post-container{margin-left:auto;margin-right:auto;max-width:800px;box-sizing:border-box}.blog-frontmatter{margin:1.25rem 0}.blog-post-content p{margin-bottom:.625rem}}</style><meta name="generator" content="Gatsby 2.32.9"/><title data-react-helmet="true"> Using the C++ compiler to compile my java file written in C into machine code</title><meta data-react-helmet="true" name="description" content="TLDR: Using the following command I was able to compile my java file written in C with the C++ compiler into runnable machine code. This is…"/><meta data-react-helmet="true" name="keyword" content="Compiler, gcc, g++"/><link rel="icon" href="/blog/favicon-32x32.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="manifest" href="/blog/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png?v=793aca210fbdaeaf7a1a2d1f1533d0e8"/><link as="script" rel="preload" href="/blog/webpack-runtime-2b8afb10a8a0487d51dd.js"/><link as="script" rel="preload" href="/blog/framework-e2d419ac45d8ae41957a.js"/><link as="script" rel="preload" href="/blog/app-26ae15bc0dd6a07f5b21.js"/><link as="script" rel="preload" href="/blog/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/blog/commons-e1265563b004fbe09f2e.js"/><link as="script" rel="preload" href="/blog/component---src-templates-blog-template-js-755facc71ce6a5a7c24e.js"/><link as="fetch" rel="preload" href="/blog/page-data/compiling-java-in-c/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="blog-post-container"><div class="blog-post"><a class="template-chevron-link" href="/blog/"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0IDY0IiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDY0IDY0IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im01NCAzMGgtMzkuODk5bDE1LjI3OC0xNC41NTJjLjgtLjc2Mi44MzEtMi4wMjguMDY5LTIuODI4LS43NjEtLjc5OS0yLjAyNy0uODMxLTIuODI4LS4wNjlsLTE3LjQ0OCAxNi42MmMtLjc1NS43NTYtMS4xNzIgMS43Ni0xLjE3MiAyLjgyOSAwIDEuMDY4LjQxNyAyLjA3MyAxLjIwNyAyLjg2MmwxNy40MTQgMTYuNTg2Yy4zODcuMzY5Ljg4My41NTIgMS4zNzkuNTUyLjUyOCAwIDEuMDU2LS4yMDggMS40NDktLjYyMS43NjItLjguNzMxLTIuMDY1LS4wNjktMi44MjdsLTE1LjM0Mi0xNC41NTJoMzkuOTYyYzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnoiLz48L3N2Zz4=" class="template-chevron-icon" alt="left arrow"/></a><div class="blog-title"><h1> Using the C++ compiler to compile my java file written in C into machine code</h1></div><div class="blog-frontmatter"><p class="blog-date">July 23, 2023</p><p class="blog-keywords">Compiler, gcc, g++</p></div><div class="blog-post-content"><p>TLDR: Using the following command I was able to compile my <strong>java</strong> file written in <strong>C</strong> with the <strong>C++</strong> compiler into runnable machine code.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">g++ -x c -o fake_hello fake_hello_world.java</code></pre></div>
<h2>gcc versus g++</h2>
<p>This is a very simplified and not entirely accurate statement, but for the sake of this blog I will assume that gcc is a “C compiler” while g++ is a C++ compiler. While <code class="language-text">gcc</code> is a general-purpose compiler that can compile code written in multiple programming languages, it is often used as a C compiler. On the other hand, <code class="language-text">g++</code>is a compiler specifically designed to compile C++ code.
<br>
<br>
What’s important to know is that gcc and g++ share the same backend. The g++ compiler is a superset of the gcc compiler. This got me wondering if I could compile my C code using g++ instead of gcc.
<br>
<br>
I tried, here’s the result</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">ragith<span class="token operator">|</span>⇒ g++ hello_world.c
clang: warning: treating <span class="token string">'c'</span> input as <span class="token string">'c++'</span> when <span class="token keyword">in</span> C++ mode, this behavior is deprecated <span class="token punctuation">[</span>-Wdeprecated<span class="token punctuation">]</span></code></pre></div>
<p>So it seems like at one point this would have been possible but now we need to explicitly tell the compiler to compile in C instead of C++.</p>
<h2>The -x Compiler Option</h2>
This flag has the following description: “Specify explicitly the language
for the following input files (rather than letting the compiler choose a default based on the file name suffix)”. The part that intrigued me was that this flag allows us to ignore file extensions and tell the compiler directly what language the file is written in. So I thought hey, if I write my C program in a .java file and use this flag, technically I am compiling my java file written in C using the C++ compiler!
<br>
<br>
Well… that’s exactly what happened. Take a look.
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">ragith<span class="token operator">|</span>⇒ g++ -x c -o fake_java_hello fake_java_hello_world.java
ragith<span class="token operator">|</span>⇒ ./fake_java_hello                              
Hello, world <span class="token keyword">in</span> C not Java<span class="token operator">!</span> :D</code></pre></div>
<h2>New word, Cross-Compiling</h2>
<p>So I had no idea there was a word for what I was doing, it’s called cross-compiling. Here I demonstrated cross-compiling my Java program using the g++ compiler. </p>
<h2>Closing Remarks and clarifications</h2>
<p>The title is catchy but not fully accurate. Technically the “java file” I am talking about is just a C program written in a file with the <code class="language-text">.java</code> extension. Since the code in this file is C, it’s fair to say that this is not a Java file. A suffix of a file does not necessarily describe the contents of that file. But, I wanted to prove that regardless of the file extension, I could tell the compiler what compilation strategy to use and that’s why I chose to have a suffix other than <code class="language-text">.c</code>
<br>
<br>
<br>
Hope you learned something cool as well, thanks for reading.
<br>
Ragith</p></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/compiling-java-in-c";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6dd5d93f502b13bf9a18.js"],"app":["/app-26ae15bc0dd6a07f5b21.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b061372020d30e5c432d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-972868d937ef573ec53c.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-755facc71ce6a5a7c24e.js"]};/*]]>*/</script><script src="/blog/polyfill-6dd5d93f502b13bf9a18.js" nomodule=""></script><script src="/blog/component---src-templates-blog-template-js-755facc71ce6a5a7c24e.js" async=""></script><script src="/blog/commons-e1265563b004fbe09f2e.js" async=""></script><script src="/blog/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/blog/app-26ae15bc0dd6a07f5b21.js" async=""></script><script src="/blog/framework-e2d419ac45d8ae41957a.js" async=""></script><script src="/blog/webpack-runtime-2b8afb10a8a0487d51dd.js" async=""></script></body></html>