{"componentChunkName":"component---src-templates-blog-template-js","path":"/compiling-java-in-c","result":{"data":{"markdownRemark":{"html":"<p>TLDR: Using the following command I was able to compile my <strong>java</strong> file written in <strong>C</strong> with the <strong>C++</strong> compiler into runnable machine code.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">g++ -x c -o fake_hello fake_hello_world.java</code></pre></div>\n<h2>gcc versus g++</h2>\n<p>This is a very simplified and not entirely accurate statement, but for the sake of this blog I will assume that gcc is a “C compiler” while g++ is a C++ compiler. While <code class=\"language-text\">gcc</code> is a general-purpose compiler that can compile code written in multiple programming languages, it is often used as a C compiler. On the other hand, <code class=\"language-text\">g++</code>is a compiler specifically designed to compile C++ code.\n<br>\n<br>\nWhat’s important to know is that gcc and g++ share the same backend. The g++ compiler is a superset of the gcc compiler. This got me wondering if I could compile my C code using g++ instead of gcc.\n<br>\n<br>\nI tried, here’s the result</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ragith<span class=\"token operator\">|</span>⇒ g++ hello_world.c\nclang: warning: treating <span class=\"token string\">'c'</span> input as <span class=\"token string\">'c++'</span> when <span class=\"token keyword\">in</span> C++ mode, this behavior is deprecated <span class=\"token punctuation\">[</span>-Wdeprecated<span class=\"token punctuation\">]</span></code></pre></div>\n<p>So it seems like at one point this would have been possible but now we need to explicitly tell the compiler to compile in C instead of C++.</p>\n<h2>The -x Compiler Option</h2>\nThis flag has the following description: “Specify explicitly the language\nfor the following input files (rather than letting the compiler choose a default based on the file name suffix)”. The part that intrigued me was that this flag allows us to ignore file extensions and tell the compiler directly what language the file is written in. So I thought hey, if I write my C program in a .java file and use this flag, technically I am compiling my java file written in C using the C++ compiler!\n<br>\n<br>\nWell… that’s exactly what happened. Take a look.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ragith<span class=\"token operator\">|</span>⇒ g++ -x c -o fake_java_hello fake_java_hello_world.java\nragith<span class=\"token operator\">|</span>⇒ ./fake_java_hello                              \nHello, world <span class=\"token keyword\">in</span> C not Java<span class=\"token operator\">!</span> :D</code></pre></div>\n<h2>New word, Cross-Compiling</h2>\n<p>So I had no idea there was a word for what I was doing, it’s called cross-compiling. Here I demonstrated cross-compiling my Java program using the g++ compiler. </p>\n<h2>Closing Remarks and clarifications</h2>\n<p>The title is catchy but not fully accurate. Technically the “java file” I am talking about is just a C program written in a file with the <code class=\"language-text\">.java</code> extension. Since the code in this file is C, it’s fair to say that this is not a Java file. A suffix of a file does not necessarily describe the contents of that file. But, I wanted to prove that regardless of the file extension, I could tell the compiler what compilation strategy to use and that’s why I chose to have a suffix other than <code class=\"language-text\">.c</code>\n<br>\n<br>\n<br>\nHope you learned something cool as well, thanks for reading.\n<br>\nRagith</p>","excerpt":"TLDR: Using the following command I was able to compile my java file written in C with the C++ compiler into runnable machine code. This is…","frontmatter":{"date":"July 23, 2023","path":"/compiling-java-in-c","title":" Using the C++ compiler to compile my java file written in C into machine code","keywords":"Compiler, gcc, g++"}}},"pageContext":{}},"staticQueryHashes":[]}